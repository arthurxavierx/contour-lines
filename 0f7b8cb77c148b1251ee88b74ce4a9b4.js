require=function(r,e,n){function t(n,o){function i(r){return t(i.resolve(r))}function f(e){return r[n][1][e]||e}if(!e[n]){if(!r[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(u)return u(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}i.resolve=f;var a=e[n]=new t.Module;r[n][0].call(a.exports,i,a,a.exports)}return e[n].exports}function o(){this.bundle=t,this.exports={}}var u="function"==typeof require&&require;t.Module=o,t.modules=r,t.cache=e,t.parent=u;for(var i=0;i<n.length;i++)t(n[i]);return t}({14:[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,t,o){function s(n,t){return(void 0===n?"undefined":e(n))===t}function a(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):u?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}var r=[],i={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){r.push({name:e,fn:n,options:t})},addAsyncTest:function(e){r.push({name:null,fn:e})}},l=function(){};l.prototype=i,l=new l;var c=[],f=t.documentElement,u="svg"===f.nodeName.toLowerCase();l.addTest("canvas",function(){var e=a("canvas");return!(!e.getContext||!e.getContext("2d"))}),l.addTest("webgl",function(){var e=a("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl")||e[t]("experimental-webgl"):"WebGLRenderingContext"in n}),l.addAsyncTest(function(){if(l.webglextensions=!1,l.webgl){var e,n,t;try{t=(n=(e=a("canvas")).getContext("webgl")||e.getContext("experimental-webgl")).getSupportedExtensions()}catch(e){return}n!==o&&(l.webglextensions=new Boolean(!0));for(var s=-1,r=t.length;++s<r;)l.webglextensions[t[s]]=!0;e=o}}),function(){var e,n,t,o,a,i;for(var f in r)if(r.hasOwnProperty(f)){if(e=[],(n=r[f]).name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(o=s(n.fn,"function")?n.fn():n.fn,a=0;a<e.length;a++)1===(i=e[a].split(".")).length?l[i[0]]=o:(!l[i[0]]||l[i[0]]instanceof Boolean||(l[i[0]]=new Boolean(l[i[0]])),l[i[0]][i[1]]=o),c.push((o?"":"no-")+i.join("-"))}}(),function(e){var n=f.className,t=l._config.classPrefix||"";if(u&&(n=n.baseVal),l._config.enableJSClass){var o=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(o,"$1"+t+"js$2")}l._config.enableClasses&&(n+=" "+t+e.join(" "+t),u?f.className.baseVal=n:f.className=n)}(c),delete i.addTest,delete i.addAsyncTest;for(var p=0;p<l._q.length;p++)l._q[p]();n.Modernizr=l}(window,document);
},{}],13:[function(require,module,exports) {
"use strict";function r(r){var e=document.getElementById(r);return{canvas:e,context:e.getContext("webgl")}}function e(r,e,t){var n=t.attribs,o=t.uniforms,a=r.createProgram();if(e.forEach(function(e){return r.attachShader(a,e(r))}),r.linkProgram(a),!r.getProgramParameter(a,r.LINK_STATUS))throw new Error("Unable to initialize the shader program: "+r.getProgramInfoLog(a));return{program:a,attribs:n.reduce(function(e,t){return e[t]=r.getAttribLocation(a,t),e},{}),uniforms:o.reduce(function(e,t){return e[t]=r.getUniformLocation(a,t),e},{})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCanvas=r,exports.createShaderProgram=e,exports.loadShader=o;var t=exports.vertexShader=function(r){return function(e){return o(e,e.VERTEX_SHADER,r)}},n=exports.fragmentShader=function(r){return function(e){return o(e,e.FRAGMENT_SHADER,r)}};function o(r,e,t){var n=r.createShader(e);if(r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS)){var o=r.getShaderInfoLog(n);throw r.deleteShader(n),new Error("An error occurred compiling the shaders: "+o)}return n}
},{}],15:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=i(["\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 a_Position;\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = (a_Position + 1.0) * 0.5;\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n\n\n"],["\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 a_Position;\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = (a_Position + 1.0) * 0.5;\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n\n\n"]),e=require("../webgl");function i(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}exports.default=(0,e.vertexShader)(n);
},{"../webgl":13}],17:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default="\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nfloat mod289(float x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat permute(float x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat taylorInvSqrt(float r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 grad4(float j, vec4 ip) {\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p,s;\n\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www;\n\n  return p;\n}\n\n// (sqrt(5) - 1)/4 = F4, used once below\n#define F4 0.309016994374947451\n\nfloat snoise(vec4 v) {\n  const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4\n      0.276393202250021,  // 2 * G4\n      0.414589803375032,  // 3 * G4\n      -0.447213595499958); // -1 + 4 * G4\n\n  // First corner\n  vec4 i  = floor(v + dot(v, vec4(F4)) );\n  vec4 x0 = v -   i + dot(i, C.xxxx);\n\n  // Other corners\n\n  // Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n  vec3 isX = step( x0.yzw, x0.xxx );\n  vec3 isYZ = step( x0.zww, x0.yyz );\n  //  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n  //  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n  // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\n\n  //  x0 = x0 - 0.0 + 0.0 * C.xxxx\n  //  x1 = x0 - i1  + 1.0 * C.xxxx\n  //  x2 = x0 - i2  + 2.0 * C.xxxx\n  //  x3 = x0 - i3  + 3.0 * C.xxxx\n  //  x4 = x0 - 1.0 + 4.0 * C.xxxx\n  vec4 x1 = x0 - i1 + C.xxxx;\n  vec4 x2 = x0 - i2 + C.yyyy;\n  vec4 x3 = x0 - i3 + C.zzzz;\n  vec4 x4 = x0 + C.wwww;\n\n  // Permutations\n  i = mod289(i);\n  float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = permute( permute( permute( permute (\n            i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\n          + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\n        + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\n      + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\n\n  // Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\n  // 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n  vec4 p0 = grad4(j0,   ip);\n  vec4 p1 = grad4(j1.x, ip);\n  vec4 p2 = grad4(j1.y, ip);\n  vec4 p3 = grad4(j1.z, ip);\n  vec4 p4 = grad4(j1.w, ip);\n\n  // Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= taylorInvSqrt(dot(p4,p4));\n\n  // Mix contributions from the five corners\n  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\n  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))\n      + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\n\n}\n\n";
},{}],16:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=require("../webgl"),e=require("./noise4D.js"),i=o(e);function o(n){return n&&n.__esModule?n:{default:n}}exports.default=(0,n.fragmentShader)("\n\n#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define PI 3.14159265359\n\nuniform vec2 u_Pointer;\nuniform vec2 u_Offset;\nuniform float u_Height;\nuniform float u_Lines;\nuniform float u_AspectRatio;\n\nvarying vec2 v_UV;\n\n"+i.default+"\n\nvoid main() {\n  vec2 uv = v_UV * vec2(u_AspectRatio, 1.0);\n  vec4 position = vec4(uv + u_Offset, u_Pointer.xy / 5.0);\n\n  float noise =\n    snoise(position)\n    + 0.5 * snoise(position * vec4(2.0, 2.0, 1.4, 1.4))\n    + 0.25 * snoise(position * vec4(4.0, 4.0, 2.0, 2.0));\n  noise *= u_Height;\n\n  float f = abs(fract(noise * u_Lines * u_Height) - 0.5);\n  float df = fwidth(noise * u_Lines * u_Height);\n\n  const float m = 0.1;\n  float z = clamp((f - df*m) / df + m, m, 1.0);\n\n  gl_FragColor = vec4(z, z, z, 1);\n}\n\n");
},{"../webgl":13,"./noise4D.js":17}],8:[function(require,module,exports) {
"use strict";var e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};require("./lib/modernizr");var n=require("./webgl"),t=require("./shader/vert"),r=o(t),a=require("./shader/frag"),i=o(a);function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var s=1e-5,c=10,d=.98,f=1e3,v=5,l=1,m=12,h=document.querySelectorAll.bind(document),_=document.querySelector.bind(document);function b(){Modernizr.canvas&&Modernizr.webgl&&Modernizr.webglextensions&&Modernizr.webglextensions.OES_standard_derivatives||(document.body.className+="incompatible");var e=(0,n.createCanvas)("canvas"),t=e.canvas,r=e.context;g(r);var a=w(r,{canvas:t});A(a);var i=0;window.requestAnimationFrame(function e(n){g(r);var t=.001*(n-i);i>0&&P(t,a),O(r,t,a),i=n,window.requestAnimationFrame(e)}),document.body.addEventListener("mousewheel",T.bind(null,a),!1),document.body.addEventListener("mousemove",B.bind(null,a),!1)}function g(e){e.canvas.width==e.canvas.clientWidth&&e.canvas.height==e.canvas.clientHeight||(e.canvas.width=e.canvas.clientWidth,e.canvas.height=e.canvas.clientHeight,e.viewport(0,0,e.canvas.width,e.canvas.height))}function w(t,a){t.clearColor(1,1,1,1),t.clearDepth(1),t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.getExtension("OES_standard_derivatives");var o=(0,n.createShaderProgram)(t,[r.default,i.default],{attribs:["a_Position"],uniforms:["u_Pointer","u_Offset","u_Height","u_Lines","u_AspectRatio"]}),u=function(){return(Math.random()-.5)*f};return e({},a,{terrainShader:o,vertexBuffer:t.createBuffer(),offset:[u(),u()]})}function A(){document.addEventListener("mousemove",function e(){document.body.className+=" playing",window.setTimeout(function(){return _("#introduction").innerHTML=""},1e3),document.removeEventListener("mousemove",e)})}window.addEventListener("load",b,!1);var y=function(e,n,t){var r=Math.max(0,Math.min(1,(t-e)/(n-e)));return r*r*(3-2*r)},E=function(e){return e<0?-1:1},p=[0,0],M=[0,0],F=void 0,L=v,R=0;function B(e,n){var t=e.canvas;F=[n.clientX/t.clientWidth,1-n.clientY/t.clientHeight]}function T(e,n){n.preventDefault();var t=-n.wheelDelta||n.detail;R+=Math.max(-1,Math.min(1,t))}var x=0;function P(e){F&&(M=[(F[0]-p[0])*c,(F[1]-p[1])*c],p[0]+=M[0]*e,p[1]+=M[1]*e,M[0]*=d,M[1]*=d,L=Math.max(l,Math.min(m,L+3*R*e)),R*=.9*d,x>=1-s||(x=x<1-s?Math.min(1,x+Math.abs(x-1)*e*3):1))}function O(e,n,t){var r=t.offset,a=t.terrainShader,i=t.vertexBuffer;e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.useProgram(a.program),e.uniform2f.apply(e,[a.uniforms.u_Pointer].concat(p)),e.uniform2f.apply(e,[a.uniforms.u_Offset].concat(u(r))),e.uniform1f(a.uniforms.u_Height,x),e.uniform1f(a.uniforms.u_Lines,L),e.uniform1f(a.uniforms.u_AspectRatio,e.canvas.width/e.canvas.height);e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.STATIC_DRAW),e.vertexAttribPointer(a.attribs.a_Position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a.attribs.a_Position),e.drawArrays(e.TRIANGLE_FAN,0,4)}
},{"./lib/modernizr":14,"./webgl":13,"./shader/vert":15,"./shader/frag":16}]},{},[8])